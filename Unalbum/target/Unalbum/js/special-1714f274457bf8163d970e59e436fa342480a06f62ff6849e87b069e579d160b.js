!function(t,e,a){var r,n,i,o,s;r=n={},o={},i={},s={},r.init=function(){this.$window=e(t),this.$batchPhotosContainer=e(".js-batch-photos-container"),this.$photosContainer=e(".js-pagination-container"),this.$batchCount=e(".js-batch-count")},s.init=function(){this.catchNewPhotoEvent()},s.catchNewPhotoEvent=function(){n.$window.on("batch:newPhoto",function(t,e){o.removePhotoFromPhotosContainer(e.photoId),o.addPhotoToBatchContainer(e.content),o.updateTotalPhotosCount(e.batchSize)})},s.emitNewPhotoEvent=function(t){n.$window.trigger("batch:newPhoto",t)},o.init=function(){},o.addPhotoToBatchContainer=function(t){n.$batchPhotosContainer.append(t)},o.updateTotalPhotosCount=function(t){n.$batchCount.text(t)},o.removePhotoFromPhotosContainer=function(t){e("[data-photo-id="+t+"]").slideUp()},e(function(){r.init(),s.init()}),t.Batch={emitNewPhotoEvent:s.emitNewPhotoEvent}}(window,jQuery),function(t,e,a){var r,n,i,o,s,u;r=n={},i={},o={},s={},u={searchThrottleDelay:500},r.init=function(){this.$window=e(t),this.$searchForm=e(".js-search-form"),this.$searchField=e(".js-search-field"),this.$searchContentContainer=e(".js-search-content-container"),this.$loadingSpinner=e(".js-search-loading-spinner"),this.$paginationNav=e(".js-pagination-nav--search")},i.init=function(){i.initializeLiveSearch()},i.shouldInitializeSearch=function(){return n.$searchField.length},i.initializeLiveSearch=function(){n.$searchField.on("keyup",_.throttle(o.onSearch,u.searchThrottleDelay))},i.clearResults=function(){n.$searchContentContainer.html(null)},i.fetchResults=function(){n.$searchForm.submit()},i.showLoadingSpinner=function(){n.$loadingSpinner.removeClass("hide")},i.hideLoadingSpinner=function(){n.$loadingSpinner.addClass("hide")},i.replaceContent=function(t){n.$searchContentContainer.html(t)},i.updateNavigation=function(t){n.$paginationNav.html(t)},o.init=function(){this.catchNewContentEvent(),this.catchUpdateNavigationEvent()},o.catchNewContentEvent=function(){n.$window.on("search:newContent",function(t,e){i.replaceContent(e.content),i.hideLoadingSpinner()})},o.emitAppendContentEvent=function(t){n.$window.trigger("search:newContent",t)},o.catchUpdateNavigationEvent=function(){n.$window.on("search:updateNavigation",function(t,e){i.updateNavigation(e.navigation)})},o.emitUpdateNavigationEvent=function(t){n.$window.trigger("search:updateNavigation",t)},o.onSearch=function(t){i.clearResults(),i.showLoadingSpinner(),i.fetchResults()},e(function(){r.init(),i.shouldInitializeSearch()&&(i.init(),o.init())}),t.Search={emitAppendContentEvent:o.emitAppendContentEvent,emitUpdateNavigationEvent:o.emitUpdateNavigationEvent}}(window,jQuery),function(t,e,a){var r,n,i,o,s,u;r=n={},s={},i={},u={},o={SUBMISSION_CLASSES_STRING:"is-approved is-searchable is-flagged is-promoted",INFO_REQUIRED_CLASS:".js-info-required",VERIFY_PHOTOGRAPHER_CLASS:".js-verify-photographer"},r.init=function(){this.$window=e(t),this.$photosContainer=e(".js-pagination-container")},r.$getPhotoById=function(t){return e("[data-photo-id="+t+"]")},u.init=function(){this.catchFlagPhotoEvent(),this.catchRejectPhotoEvent(),this.catchSearchablePhotoEvent(),this.catchPromotePhotoEvent(),this.catchInfoRequiredAjaxCall(),this.catchVerifyPhotographerAjaxCall()},u.catchPromotePhotoEvent=function(){n.$window.on("submission:promote",function(t,e){s.promotePhoto(e.photoId)})},u.emitPromotePhotoEvent=function(t){n.$window.trigger("submission:promote",t)},u.catchSearchablePhotoEvent=function(){n.$window.on("submission:searchable",function(t,e){s.promoteSearchablePhoto(e.photoId)})},u.emitSearchablePhotoEvent=function(t){n.$window.trigger("submission:searchable",t)},u.catchRejectPhotoEvent=function(){n.$window.on("submission:approve",function(t,e){s.approvePhoto(e.photoId)})},u.emitApprovePhotoEvent=function(t){n.$window.trigger("submission:approve",t)},u.catchFlagPhotoEvent=function(){n.$window.on("submission:flag",function(t,e){s.flagPhoto(e.photoId,e.flagReason)})},u.emitFlagPhotoEvent=function(t){n.$window.trigger("submission:flag",t)},u.catchInfoRequiredAjaxCall=function(){n.$photosContainer.on("ajax:success",o.INFO_REQUIRED_CLASS,function(a,r,n,i){var o=e(a.target).parents(".js-submission-photo").data("photo-id");s.removeRequestInfoLink(o),t.Flash.emitSuccessEvent({message:"More information requested through email"})}),n.$photosContainer.on("ajax:error",o.INFO_REQUIRED_CLASS,function(e,a,r,n){t.Flash.emitSuccessEvent({message:"There was an error when requesting more information"})})},u.catchVerifyPhotographerAjaxCall=function(){n.$photosContainer.on("ajax:success",o.VERIFY_PHOTOGRAPHER_CLASS,function(a,r,n,i){var o=e(a.target).parents(".js-submission-photo").data("photo-id");s.removeVerifyPhotographerLink(o),t.Flash.emitSuccessEvent({message:"Photographer was verified"})}),n.$photosContainer.on("ajax:error",o.VERIFY_PHOTOGRAPHER_CLASS,function(e,a,r,n){t.Flash.emitSuccessEvent({message:"There was an error when verifying the photographer."})})},s.init=function(){},s.promotePhoto=function(t){r.$getPhotoById(t).removeClass(o.SUBMISSION_CLASSES_STRING).addClass("is-promoted"),s.resetActionClasses(t),r.$getPhotoById(t).find(".js-promote-photo-action").addClass("btn-outline--success")},s.promoteSearchablePhoto=function(t){r.$getPhotoById(t).removeClass(o.SUBMISSION_CLASSES_STRING).addClass("is-searchable"),s.resetActionClasses(t),r.$getPhotoById(t).find(".js-searchable-photo-action").addClass("btn-outline--success")},s.approvePhoto=function(t){r.$getPhotoById(t).removeClass(o.SUBMISSION_CLASSES_STRING).addClass("is-approved"),s.resetActionClasses(t),r.$getPhotoById(t).find(".js-approve-photo-action").addClass("btn-outline--warning")},s.flagPhoto=function(t,e){r.$getPhotoById(t).removeClass(o.SUBMISSION_CLASSES_STRING).addClass("is-flagged"),s.resetActionClasses(t),r.$getPhotoById(t).find(".js-flag-reason-"+e).addClass("text-danger")},s.resetActionClasses=function(t){r.$getPhotoById(t).find(".js-action").each(function(){e(this).removeClass("text-danger text-success text-warning btn-outline--danger btn-outline--success btn-outline--warning")})},s.removeRequestInfoLink=function(t){r.$getPhotoById(t).find(o.INFO_REQUIRED_CLASS).replaceWith("<span>Info requested</span>")},s.removeVerifyPhotographerLink=function(t){r.$getPhotoById(t).find(o.VERIFY_PHOTOGRAPHER_CLASS).replaceWith("<span>&#9989;</span>")},e(function(){r.init(),u.init()}),t.Submissions={emitPromotePhotoEvent:u.emitPromotePhotoEvent,emitSearchablePhotoEvent:u.emitSearchablePhotoEvent,emitFlagPhotoEvent:u.emitFlagPhotoEvent,emitApprovePhotoEvent:u.emitApprovePhotoEvent}}(window,jQuery),function(t,e,a){var r,n,i,o;r=n={},i={},o={},r.init=function(){this.$window=e(t),this.$table=e(".js-users-table")},i.shouldInitialize=function(){return n.$table.length},i.init=function(){},i.updateRowForUser=function(t,a){e("[data-user-id="+a+"]").replaceWith(t)},o.init=function(){this.catchUpdateUserRowEvent()},o.emitUpdateUserRowEvent=function(t){n.$window.trigger("userManagement:updateRow",t)},o.catchUpdateUserRowEvent=function(){n.$window.on("userManagement:updateRow",function(t,e){i.updateRowForUser(e.content,e.userId)})},e(function(){r.init(),i.shouldInitialize()&&(i.init(),o.init())}),t.UserManagement={emitUpdateUserRowEvent:o.emitUpdateUserRowEvent}}(window,jQuery),function(t,e,a){var r,n,i,o,s;r=n={},i={},o={},s={suggestedClass:{js:"js-aggregated-suggested-descriptor-input",css:""},primaryClass:{js:"js-aggregated-primary-descriptor-input",css:"tag--primary"},secondaryClass:{js:"js-aggregated-secondary-descriptor-input",css:"tag--secondary"}},r.init=function(){this.$window=e(t),this.$descriptorContainer=e(".js-descriptor-management-container"),this.$photoContainer=e(".js-descriptor-photo-container"),this.$spinner=e(".js-photo-loading-spinner")},r.getSecondaryInputForTarget=function(t){return t.parents("form").find(".js-secondary-descriptor-input")},r.getPrimaryInputForTarget=function(t){return t.parents("form").find(".js-primary-descriptor-input")},i.shouldInitialize=function(){return n.$descriptorContainer.length},i.init=function(){},i.onSuggestedDescriptorClick=function(t){t.removeClass(s.suggestedClass.js).addClass(s.secondaryClass.js),t.addClass(s.secondaryClass.css);var e=i.getTagName(t),a=n.getSecondaryInputForTarget(t);a.addTag(e)},i.onSecondaryDescriptorClick=function(t){t.removeClass(s.secondaryClass.js).addClass(s.primaryClass.js),t.removeClass(s.secondaryClass.css).addClass(s.primaryClass.css);var e=i.getTagName(t),a=n.getSecondaryInputForTarget(t);a.removeTag(e);var r=n.getPrimaryInputForTarget(t);r.addTag(e)},i.onPrimaryDescriptorClick=function(t){t.removeClass(s.primaryClass.js).addClass(s.suggestedClass.js),t.removeClass(s.primaryClass.css);var e=i.getTagName(t),a=n.getPrimaryInputForTarget(t);a.removeTag(e)},i.getTagName=function(t){return e.trim(t.text())},i.replaceContainer=function(t){n.$descriptorContainer.replaceWith(t)},i.showSpinner=function(){n.$spinner.show(),n.$photoContainer.hide()},i.hideSpinner=function(){n.$spinner.hide(),n.$photoContainer.fadeIn()},o.init=function(){this.catchSuggestedDescriptorClick(),this.catchSecondaryDescriptorClick(),this.catchPrimaryDescriptorClick(),this.catchNextPhotoEvent()},o.reinit=function(){this.catchSuggestedDescriptorClick(),this.catchSecondaryDescriptorClick(),this.catchPrimaryDescriptorClick()},o.catchSuggestedDescriptorClick=function(){n.$descriptorContainer.on("click","."+s.suggestedClass.js,function(t){var a=e(t.target);return i.onSuggestedDescriptorClick(a),!1})},o.catchSecondaryDescriptorClick=function(){n.$descriptorContainer.on("click","."+s.secondaryClass.js,function(t){var a=e(t.target);return i.onSecondaryDescriptorClick(a),!1})},o.catchPrimaryDescriptorClick=function(){n.$descriptorContainer.on("click","."+s.primaryClass.js,function(t){var a=e(t.target);return i.onPrimaryDescriptorClick(a),!1})},o.catchNextPhotoEvent=function(){n.$window.on("descriptor:nextPhoto",function(e,a){i.replaceContainer(a.content),r.init(),o.reinit(),i.showSpinner(),t.UI.emitReinitializeTagInputsEvent(),t.Images.update(),n.$descriptorContainer.imagesLoaded(function(){i.hideSpinner()})})},o.emitNextPhotoEvent=function(t){n.$window.trigger("descriptor:nextPhoto",t)},e(function(){r.init(),i.shouldInitialize()&&(i.init(),o.init())}),t.DescriptorsManagement={emitNextPhotoEvent:o.emitNextPhotoEvent}}(window,jQuery),function(t,e,a){var r,n,i,o,s,u;r=n={},s={},i={},u={},o={},r.init=function(){this.$form=e(".js-email-builder-form"),this.$button=e(".js-email-builder-button"),this.$iframe=e(".js-email-builder-iframe"),this.baseUrl=this.$button.attr("href")},u.init=function(){this.catchButtonClicks()},u.catchButtonClicks=function(){n.$form.on("change",function(t){var e=n.$form.serialize(),a=n.baseUrl+"?"+e;n.$button.attr("href",a),n.$iframe.attr("src",a)})},s.init=function(){},s.shouldInitialize=function(){return!!n.$form.length},e(function(){r.init(),s.shouldInitialize()&&(u.init(),s.init())})}(window,jQuery),function(t,e,a){var r,n,i,o,s,u;r=n={},i={},o={},s={},u={},r.init=function(){this.$window=e(t),this.$container=e(".js-suggested-descriptors-container"),this.$photoContainer=e(".js-descriptor-photo-container"),this.$spinner=e(".js-photo-loading-spinner")},o.init=function(){},o.swapContainer=function(t){n.$container.html(t)},o.showSpinner=function(){n.$spinner.show(),n.$photoContainer.hide()},o.hideSpinner=function(){n.$spinner.hide(),n.$photoContainer.fadeIn()},s.init=function(){this.catchNextPhotoEvent()},s.catchNextPhotoEvent=function(){n.$window.on("suggestedDescriptor:nextPhoto",function(e,a){o.swapContainer(a.content),r.init(),o.showSpinner(),t.UI.emitReinitializeTagInputsEvent(),t.Images.update(),n.$container.imagesLoaded(function(){o.hideSpinner()})})},s.emitNextPhotoEvent=function(t){n.$window.trigger("suggestedDescriptor:nextPhoto",t)},e(function(){r.init(),o.init(),s.init()}),t.SuggestedDescriptors={emitNextPhotoEvent:s.emitNextPhotoEvent}}(window,jQuery),$.DateTimePicker=$.DateTimePicker||{name:"DateTimePicker",i18n:{},defaults:{mode:"date",defaultDate:null,dateSeparator:"-",timeSeparator:":",timeMeridiemSeparator:" ",dateTimeSeparator:" ",monthYearSeparator:" ",dateTimeFormat:"dd-MM-yyyy HH:mm",dateFormat:"dd-MM-yyyy",timeFormat:"HH:mm",maxDate:null,minDate:null,maxTime:null,minTime:null,maxDateTime:null,minDateTime:null,shortDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fullDayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullMonthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],minuteInterval:1,roundOffMinutes:!0,secondsInterval:1,roundOffSeconds:!0,titleContentDate:"Set Date",titleContentTime:"Set Time",titleContentDateTime:"Set Date & Time",buttonsToDisplay:["HeaderCloseButton","SetButton","ClearButton"],setButtonContent:"Set",clearButtonContent:"Clear",incrementButtonContent:"+",decrementButtonContent:"-",setValueInTextboxOnEveryClick:!1,animationDuration:400,isPopup:!0,parentElement:"body",language:"",init:null,addEventHandlers:null,beforeShow:null,afterShow:null,beforeHide:null,afterHide:null,buttonClicked:null,formatHumanDate:null,parseDateTimeString:null,formatDateTimeString:null},dataObject:{dCurrentDate:new Date,iCurrentDay:0,iCurrentMonth:0,iCurrentYear:0,iCurrentHour:0,iCurrentMinutes:0,iCurrentSeconds:0,sCurrentMeridiem:"",iMaxNumberOfDays:0,sDateFormat:"",sTimeFormat:"",sDateTimeFormat:"",dMinValue:null,dMaxValue:null,sArrInputDateFormats:[],sArrInputTimeFormats:[],sArrInputDateTimeFormats:[],bArrMatchFormat:[],bDateMode:!1,bTimeMode:!1,bDateTimeMode:!1,oInputElement:null,iTabIndex:0,bElemFocused:!1,bIs12Hour:!1}},$.cf={_isValid:function(t){return void 0!==t&&null!==t&&""!==t},_compare:function(t,e){var a=void 0!==t&&null!==t,r=void 0!==e&&null!==e;return a&&r&&t.toLowerCase()===e.toLowerCase()?!0:!1}},function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";function e(e,a){this.element=e;var r="";r=t.cf._isValid(a)&&t.cf._isValid(a.language)?a.language:t.DateTimePicker.defaults.language,this.settings=t.extend({},t.DateTimePicker.defaults,a,t.DateTimePicker.i18n[r]),this.oData=t.extend({},t.DateTimePicker.dataObject),this._defaults=t.DateTimePicker.defaults,this._name=t.DateTimePicker.name,this.init()}t.fn.DateTimePicker=function(a){var r,n,i=t(this).data(),o=i?Object.keys(i):[];if("string"!=typeof a)return this.each(function(){t.removeData(this,"plugin_DateTimePicker"),t.data(this,"plugin_DateTimePicker")||t.data(this,"plugin_DateTimePicker",new e(this,a))});if(t.cf._isValid(i))if("destroy"===a)if(o.length>0){for(r in o)if(n=o[r],-1!==n.search("plugin_DateTimePicker")){t(document).unbind("click.DateTimePicker"),t(document).unbind("keydown.DateTimePicker"),t(document).unbind("keyup.DateTimePicker"),t(this).children().remove(),t(this).removeData(),t(this).unbind(),t(this).removeClass("dtpicker-overlay dtpicker-mobile"),i=i[n],console.log("Destroyed DateTimePicker Object"),console.log(i);break}}else console.log("No DateTimePicker Object Defined For This Element");else if("object"===a)if(o.length>0){for(r in o)if(n=o[r],-1!==n.search("plugin_DateTimePicker"))return i[n]}else console.log("No DateTimePicker Object Defined For This Element")},e.prototype={init:function(){var e=this;e._setDateFormatArray(),e._setTimeFormatArray(),e._setDateTimeFormatArray(),e.settings.isPopup&&(e._createPicker(),t(e.element).addClass("dtpicker-mobile")),e.settings.init&&e.settings.init.call(e),e._addEventHandlersForInput()},_setDateFormatArray:function(){var t=this;t.oData.sArrInputDateFormats=[];var e="";e="dd"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"yyyy",t.oData.sArrInputDateFormats.push(e),e="MM"+t.settings.dateSeparator+"dd"+t.settings.dateSeparator+"yyyy",t.oData.sArrInputDateFormats.push(e),e="yyyy"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"dd",t.oData.sArrInputDateFormats.push(e),e="dd"+t.settings.dateSeparator+"MMM"+t.settings.dateSeparator+"yyyy",t.oData.sArrInputDateFormats.push(e),e="MM"+t.settings.monthYearSeparator+"yyyy",t.oData.sArrInputDateFormats.push(e),e="MMM"+t.settings.monthYearSeparator+"yyyy",t.oData.sArrInputDateFormats.push(e),e="MMMM"+t.settings.monthYearSeparator+"yyyy",t.oData.sArrInputDateFormats.push(e)},_setTimeFormatArray:function(){var t=this;t.oData.sArrInputTimeFormats=[];var e="";e="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss"+t.settings.timeMeridiemSeparator+"AA",t.oData.sArrInputTimeFormats.push(e),e="HH"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss",t.oData.sArrInputTimeFormats.push(e),e="hh"+t.settings.timeSeparator+"mm"+t.settings.timeMeridiemSeparator+"AA",t.oData.sArrInputTimeFormats.push(e),e="HH"+t.settings.timeSeparator+"mm",t.oData.sArrInputTimeFormats.push(e)},_setDateTimeFormatArray:function(){var t=this;t.oData.sArrInputDateTimeFormats=[];var e="",a="",r="";e="dd"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"yyyy",a="HH"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="MM"+t.settings.dateSeparator+"dd"+t.settings.dateSeparator+"yyyy",a="HH"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="MM"+t.settings.dateSeparator+"dd"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="yyyy"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"dd",a="HH"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="yyyy"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"dd",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MMM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MMM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeSeparator+"ss"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"yyyy",a="HH"+t.settings.timeSeparator+"mm",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="MM"+t.settings.dateSeparator+"dd"+t.settings.dateSeparator+"yyyy",a="HH"+t.settings.timeSeparator+"mm",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="MM"+t.settings.dateSeparator+"dd"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="yyyy"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"dd",a="HH"+t.settings.timeSeparator+"mm",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="yyyy"+t.settings.dateSeparator+"MM"+t.settings.dateSeparator+"dd",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MMM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r),e="dd"+t.settings.dateSeparator+"MMM"+t.settings.dateSeparator+"yyyy",a="hh"+t.settings.timeSeparator+"mm"+t.settings.timeMeridiemSeparator+"AA",r=e+t.settings.dateTimeSeparator+a,t.oData.sArrInputDateTimeFormats.push(r)},_matchFormat:function(e,a){var r=this;r.oData.bArrMatchFormat=[],r.oData.bDateMode=!1,r.oData.bTimeMode=!1,r.oData.bDateTimeMode=!1;var n,i=[];for(e=t.cf._isValid(e)?e:r.settings.mode,t.cf._compare(e,"date")?(a=t.cf._isValid(a)?a:r.oData.sDateFormat,r.oData.bDateMode=!0,i=r.oData.sArrInputDateFormats):t.cf._compare(e,"time")?(a=t.cf._isValid(a)?a:r.oData.sTimeFormat,r.oData.bTimeMode=!0,i=r.oData.sArrInputTimeFormats):t.cf._compare(e,"datetime")&&(a=t.cf._isValid(a)?a:r.oData.sDateTimeFormat,r.oData.bDateTimeMode=!0,i=r.oData.sArrInputDateTimeFormats),n=0;n<i.length;n++)r.oData.bArrMatchFormat.push(t.cf._compare(a,i[n]))},_setMatchFormat:function(t,e,a){var r=this;t>0&&r._matchFormat(e,a)},_createPicker:function(){var e=this;t(e.element).addClass("dtpicker-overlay"),t(".dtpicker-overlay").click(function(t){e._hidePicker("")});var a="";a+="<div class='dtpicker-bg'>",a+="<div class='dtpicker-cont'>",a+="<div class='dtpicker-content'>",a+="<div class='dtpicker-subcontent'>",a+="</div>",a+="</div>",a+="</div>",a+="</div>",t(e.element).html(a)},_addEventHandlersForInput:function(){var e=this;e.oData.oInputElement=null,t(e.settings.parentElement).find("input[type='date'], input[type='time'], input[type='datetime']").each(function(){t(this).attr("type","text"),t(this).attr("data-field",t(this).attr("type"))});var a="[data-field='date'], [data-field='time'], [data-field='datetime']";t(e.settings.parentElement).off("focus",a,e._inputFieldFocus),t(e.settings.parentElement).on("focus",a,{obj:e},e._inputFieldFocus),t(e.settings.parentElement).off("click",a,e._inputFieldClick),t(e.settings.parentElement).on("click",a,{obj:e},e._inputFieldClick),e.settings.addEventHandlers&&e.settings.addEventHandlers.call(e)},_inputFieldFocus:function(t){var e=t.data.obj;e.showDateTimePicker(this),e.oData.bMouseDown=!1},_inputFieldClick:function(e){var a=e.data.obj;t.cf._compare(t(this).prop("tagName"),"input")||a.showDateTimePicker(this),e.stopPropagation()},getDateObjectForInputField:function(e){var a=this;if(t.cf._isValid(e)){var r,n=a._getValueOfElement(e),i=t(e).data("field"),o="";return t.cf._isValid(i)||(i=a.settings.mode),a.settings.formatDateTimeString?r=a.settings.parseDateTimeString.call(a,n,i,t(e)):(o=t(e).data("format"),t.cf._isValid(o)||(t.cf._compare(i,"date")?o=a.settings.dateFormat:t.cf._compare(i,"time")?o=a.settings.timeFormat:t.cf._compare(i,"datetime")&&(o=a.settings.dateTimeFormat)),a._matchFormat(i,o),t.cf._compare(i,"date")?r=a._parseDate(n):t.cf._compare(i,"time")?r=a._parseTime(n):t.cf._compare(i,"datetime")&&(r=a._parseDateTime(n))),r}},setDateTimeStringInInputField:function(e,a){var r=this;a=a||r.oData.dCurrentDate;var n;t.cf._isValid(e)?(n=[],"string"==typeof e?n.push(e):"object"==typeof e&&(n=e)):n=t.cf._isValid(r.settings.parentElement)?t(r.settings.parentElement).find("[data-field='date'], [data-field='time'], [data-field='datetime']"):t("[data-field='date'], [data-field='time'], [data-field='datetime']"),n.each(function(){var e,n,i,o,s=this;e=t(s).data("field"),t.cf._isValid(e)||(e=r.settings.mode),n="Custom",i=!1,r.settings.formatDateTimeString||(n=t(s).data("format"),t.cf._isValid(n)||(t.cf._compare(e,"date")?n=r.settings.dateFormat:t.cf._compare(e,"time")?n=r.settings.timeFormat:t.cf._compare(e,"datetime")&&(n=r.settings.dateTimeFormat)),i=r.getIs12Hour(e,n)),o=r._setOutput(e,n,i,a,s),r._setValueOfElement(o,t(s))})},getDateTimeStringInFormat:function(t,e,a){var r=this;return r._setOutput(t,e,r.getIs12Hour(t,e),a)},showDateTimePicker:function(t){var e=this;null!==e.oData.oInputElement?e._hidePicker(0,t):e._showPicker(t)},_setButtonAction:function(t){var e=this;null!==e.oData.oInputElement&&(e._setValueOfElement(e._setOutput()),t?e._hidePicker(0):e._hidePicker(""))},_setOutput:function(e,a,r,n,i){var o=this;n=t.cf._isValid(n)?n:o.oData.dCurrentDate,r=r||o.oData.bIs12Hour;var s,u=o._setVariablesForDate(n,!0,!0),m="",c=o._formatDate(u),d=o._formatTime(u),l=t.extend({},c,d),p="",D="",h=Function.length;return o.settings.formatDateTimeString?m=o.settings.formatDateTimeString.call(o,l,e,i):(o._setMatchFormat(h,e,a),o.oData.bDateMode?o.oData.bArrMatchFormat[0]?m=l.dd+o.settings.dateSeparator+l.MM+o.settings.dateSeparator+l.yyyy:o.oData.bArrMatchFormat[1]?m=l.MM+o.settings.dateSeparator+l.dd+o.settings.dateSeparator+l.yyyy:o.oData.bArrMatchFormat[2]?m=l.yyyy+o.settings.dateSeparator+l.MM+o.settings.dateSeparator+l.dd:o.oData.bArrMatchFormat[3]?m=l.dd+o.settings.dateSeparator+l.monthShort+o.settings.dateSeparator+l.yyyy:o.oData.bArrMatchFormat[4]?m=l.MM+o.settings.monthYearSeparator+l.yyyy:o.oData.bArrMatchFormat[5]?m=l.monthShort+o.settings.monthYearSeparator+l.yyyy:o.oData.bArrMatchFormat[6]&&(m=l.month+o.settings.monthYearSeparator+l.yyyy):o.oData.bTimeMode?o.oData.bArrMatchFormat[0]?m=l.hh+o.settings.timeSeparator+l.mm+o.settings.timeSeparator+l.ss+o.settings.timeMeridiemSeparator+l.ME:o.oData.bArrMatchFormat[1]?m=l.HH+o.settings.timeSeparator+l.mm+o.settings.timeSeparator+l.ss:o.oData.bArrMatchFormat[2]?m=l.hh+o.settings.timeSeparator+l.mm+o.settings.timeMeridiemSeparator+l.ME:o.oData.bArrMatchFormat[3]&&(m=l.HH+o.settings.timeSeparator+l.mm):o.oData.bDateTimeMode&&(o.oData.bArrMatchFormat[0]||o.oData.bArrMatchFormat[1]||o.oData.bArrMatchFormat[8]||o.oData.bArrMatchFormat[9]?p=l.dd+o.settings.dateSeparator+l.MM+o.settings.dateSeparator+l.yyyy:o.oData.bArrMatchFormat[2]||o.oData.bArrMatchFormat[3]||o.oData.bArrMatchFormat[10]||o.oData.bArrMatchFormat[11]?p=l.MM+o.settings.dateSeparator+l.dd+o.settings.dateSeparator+l.yyyy:o.oData.bArrMatchFormat[4]||o.oData.bArrMatchFormat[5]||o.oData.bArrMatchFormat[12]||o.oData.bArrMatchFormat[13]?p=l.yyyy+o.settings.dateSeparator+l.MM+o.settings.dateSeparator+l.dd:(o.oData.bArrMatchFormat[6]||o.oData.bArrMatchFormat[7]||o.oData.bArrMatchFormat[14]||o.oData.bArrMatchFormat[15])&&(p=l.dd+o.settings.dateSeparator+l.monthShort+o.settings.dateSeparator+l.yyyy),s=o.oData.bArrMatchFormat[0]||o.oData.bArrMatchFormat[1]||o.oData.bArrMatchFormat[2]||o.oData.bArrMatchFormat[3]||o.oData.bArrMatchFormat[4]||o.oData.bArrMatchFormat[5]||o.oData.bArrMatchFormat[6]||o.oData.bArrMatchFormat[7],D=r?s?l.hh+o.settings.timeSeparator+l.mm+o.settings.timeSeparator+l.ss+o.settings.timeMeridiemSeparator+l.ME:l.hh+o.settings.timeSeparator+l.mm+o.settings.timeMeridiemSeparator+l.ME:s?l.HH+o.settings.timeSeparator+l.mm+o.settings.timeSeparator+l.ss:l.HH+o.settings.timeSeparator+l.mm,""!==p&&""!==D&&(m=p+o.settings.dateTimeSeparator+D)),o._setMatchFormat(h)),m},_clearButtonAction:function(){var t=this;null!==t.oData.oInputElement&&t._setValueOfElement(""),t._hidePicker("")},_setOutputOnIncrementOrDecrement:function(){var e=this;t.cf._isValid(e.oData.oInputElement)&&e.settings.setValueInTextboxOnEveryClick&&e._setValueOfElement(e._setOutput())},_showPicker:function(e){var a=this;if(null===a.oData.oInputElement){a.oData.oInputElement=e,a.oData.iTabIndex=parseInt(t(e).attr("tabIndex"));var r=t(e).data("field")||"",n=t(e).data("min")||"",i=t(e).data("max")||"",o=t(e).data("format")||"",s=t(e).data("view")||"",u=t(e).data("startend")||"",m=t(e).data("startendelem")||"",c=a._getValueOfElement(e)||"";if(""!==s&&(t.cf._compare(s,"Popup")?a.setIsPopup(!0):a.setIsPopup(!1)),!a.settings.isPopup){a._createPicker();var d=t(a.oData.oInputElement).offset().top+t(a.oData.oInputElement).outerHeight(),l=t(a.oData.oInputElement).offset().left,p=t(a.oData.oInputElement).outerWidth();t(a.element).css({position:"absolute",top:d,left:l,width:p,height:"auto"})}a.settings.beforeShow&&a.settings.beforeShow.call(a,e),r=t.cf._isValid(r)?r:a.settings.mode,a.settings.mode=r,t.cf._isValid(o)||(t.cf._compare(r,"date")?o=a.settings.dateFormat:t.cf._compare(r,"time")?o=a.settings.timeFormat:t.cf._compare(r,"datetime")&&(o=a.settings.dateTimeFormat)),a._matchFormat(r,o),a.oData.dMinValue=null,a.oData.dMaxValue=null,a.oData.bIs12Hour=!1;var D,h,g,f,M,C,y,b;a.oData.bDateMode?(D=n||a.settings.minDate,h=i||a.settings.maxDate,a.oData.sDateFormat=o,t.cf._isValid(D)&&(a.oData.dMinValue=a._parseDate(D)),t.cf._isValid(h)&&(a.oData.dMaxValue=a._parseDate(h)),""!==u&&(t.cf._compare(u,"start")||t.cf._compare(u,"end"))&&""!==m&&t(m).length>=1&&(g=a._getValueOfElement(t(m)),""!==g&&(f=a.settings.parseDateTimeString?a.settings.parseDateTimeString.call(a,g,r,t(m)):a._parseDate(g),t.cf._compare(u,"start")?t.cf._isValid(h)?a._compareDates(f,a.oData.dMaxValue)<0&&(a.oData.dMaxValue=new Date(f)):a.oData.dMaxValue=new Date(f):t.cf._compare(u,"end")&&(t.cf._isValid(D)?a._compareDates(f,a.oData.dMinValue)>0&&(a.oData.dMinValue=new Date(f)):a.oData.dMinValue=new Date(f)))),a.settings.parseDateTimeString?a.oData.dCurrentDate=a.settings.parseDateTimeString.call(a,c,r,t(e)):a.oData.dCurrentDate=a._parseDate(c),a.oData.dCurrentDate.setHours(0),a.oData.dCurrentDate.setMinutes(0),a.oData.dCurrentDate.setSeconds(0)):a.oData.bTimeMode?(D=n||a.settings.minTime,h=i||a.settings.maxTime,a.oData.sTimeFormat=o,t.cf._isValid(D)&&(a.oData.dMinValue=a._parseTime(D)),t.cf._isValid(h)&&(a.oData.dMaxValue=a._parseTime(h)),""!==u&&(t.cf._compare(u,"start")||t.cf._compare(u,"end"))&&""!==m&&t(m).length>=1&&(M=a._getValueOfElement(t(m)),""!==M&&(a.settings.parseDateTimeString?f=a.settings.parseDateTimeString.call(a,M,r,t(m)):C=a._parseTime(M),t.cf._compare(u,"start")?(C.setMinutes(C.getMinutes()-1),t.cf._isValid(h)?2===a._compareTime(C,a.oData.dMaxValue)&&(a.oData.dMaxValue=new Date(C)):a.oData.dMaxValue=new Date(C)):t.cf._compare(u,"end")&&(C.setMinutes(C.getMinutes()+1),t.cf._isValid(D)?3===a._compareTime(C,a.oData.dMinValue)&&(a.oData.dMinValue=new Date(C)):a.oData.dMinValue=new Date(C)))),a.oData.bIs12Hour=a.getIs12Hour(),a.settings.parseDateTimeString?a.oData.dCurrentDate=a.settings.parseDateTimeString.call(a,c,r,t(e)):a.oData.dCurrentDate=a._parseTime(c)):a.oData.bDateTimeMode&&(D=n||a.settings.minDateTime,h=i||a.settings.maxDateTime,a.oData.sDateTimeFormat=o,t.cf._isValid(D)&&(a.oData.dMinValue=a._parseDateTime(D)),t.cf._isValid(h)&&(a.oData.dMaxValue=a._parseDateTime(h)),""!==u&&(t.cf._compare(u,"start")||t.cf._compare(u,"end"))&&""!==m&&t(m).length>=1&&(y=a._getValueOfElement(t(m)),""!==y&&(b=a.settings.parseDateTimeString?a.settings.parseDateTimeString.call(a,y,r,t(m)):a._parseDateTime(y),t.cf._compare(u,"start")?t.cf._isValid(h)?a._compareDateTime(b,a.oData.dMaxValue)<0&&(a.oData.dMaxValue=new Date(b)):a.oData.dMaxValue=new Date(b):t.cf._compare(u,"end")&&(t.cf._isValid(D)?a._compareDateTime(b,a.oData.dMinValue)>0&&(a.oData.dMinValue=new Date(b)):a.oData.dMinValue=new Date(b)))),a.oData.bIs12Hour=a.getIs12Hour(),a.settings.parseDateTimeString?a.oData.dCurrentDate=a.settings.parseDateTimeString.call(a,c,r,t(e)):a.oData.dCurrentDate=a._parseDateTime(c)),a._setVariablesForDate(),a._modifyPicker(),t(a.element).fadeIn(a.settings.animationDuration),a.settings.afterShow&&setTimeout(function(){a.settings.afterShow.call(a,e)},a.settings.animationDuration)}},_hidePicker:function(e,a){var r=this,n=r.oData.oInputElement;r.settings.beforeHide&&r.settings.beforeHide.call(r,n),t.cf._isValid(e)||(e=r.settings.animationDuration),t.cf._isValid(r.oData.oInputElement)&&(t(r.oData.oInputElement).blur(),r.oData.oInputElement=null),t(r.element).fadeOut(e),0===e?t(r.element).find(".dtpicker-subcontent").html(""):setTimeout(function(){t(r.element).find(".dtpicker-subcontent").html("")},e),t(document).unbind("click.DateTimePicker"),t(document).unbind("keydown.DateTimePicker"),t(document).unbind("keyup.DateTimePicker"),r.settings.afterHide&&(0===e?r.settings.afterHide.call(r,n):setTimeout(function(){r.settings.afterHide.call(r,n)},e)),t.cf._isValid(a)&&r._showPicker(a)},_modifyPicker:function(){var e,a,r=this,n=[];r.oData.bDateMode?(e=r.settings.titleContentDate,a=3,r.oData.bArrMatchFormat[0]?n=["day","month","year"]:r.oData.bArrMatchFormat[1]?n=["month","day","year"]:r.oData.bArrMatchFormat[2]?n=["year","month","day"]:r.oData.bArrMatchFormat[3]?n=["day","month","year"]:r.oData.bArrMatchFormat[4]?(a=2,n=["month","year"]):r.oData.bArrMatchFormat[5]?(a=2,n=["month","year"]):r.oData.bArrMatchFormat[6]&&(a=2,n=["month","year"])):r.oData.bTimeMode?(e=r.settings.titleContentTime,r.oData.bArrMatchFormat[0]?(a=4,n=["hour","minutes","seconds","meridiem"]):r.oData.bArrMatchFormat[1]?(a=3,n=["hour","minutes","seconds"]):r.oData.bArrMatchFormat[2]?(a=3,n=["hour","minutes","meridiem"]):r.oData.bArrMatchFormat[3]&&(a=2,
n=["hour","minutes"])):r.oData.bDateTimeMode&&(e=r.settings.titleContentDateTime,r.oData.bArrMatchFormat[0]?(a=6,n=["day","month","year","hour","minutes","seconds"]):r.oData.bArrMatchFormat[1]?(a=7,n=["day","month","year","hour","minutes","seconds","meridiem"]):r.oData.bArrMatchFormat[2]?(a=6,n=["month","day","year","hour","minutes","seconds"]):r.oData.bArrMatchFormat[3]?(a=7,n=["month","day","year","hour","minutes","seconds","meridiem"]):r.oData.bArrMatchFormat[4]?(a=6,n=["year","month","day","hour","minutes","seconds"]):r.oData.bArrMatchFormat[5]?(a=7,n=["year","month","day","hour","minutes","seconds","meridiem"]):r.oData.bArrMatchFormat[6]?(a=6,n=["day","month","year","hour","minutes","seconds"]):r.oData.bArrMatchFormat[7]?(a=7,n=["day","month","year","hour","minutes","seconds","meridiem"]):r.oData.bArrMatchFormat[8]?(a=5,n=["day","month","year","hour","minutes"]):r.oData.bArrMatchFormat[9]?(a=6,n=["day","month","year","hour","minutes","meridiem"]):r.oData.bArrMatchFormat[10]?(a=5,n=["month","day","year","hour","minutes"]):r.oData.bArrMatchFormat[11]?(a=6,n=["month","day","year","hour","minutes","meridiem"]):r.oData.bArrMatchFormat[12]?(a=5,n=["year","month","day","hour","minutes"]):r.oData.bArrMatchFormat[13]?(a=6,n=["year","month","day","hour","minutes","meridiem"]):r.oData.bArrMatchFormat[14]?(a=5,n=["day","month","year","hour","minutes"]):r.oData.bArrMatchFormat[15]&&(a=6,n=["day","month","year","hour","minutes","meridiem"]));var i,o="dtpicker-comp"+a,s=!1,u=!1,m=!1;for(i=0;i<r.settings.buttonsToDisplay.length;i++)t.cf._compare(r.settings.buttonsToDisplay[i],"HeaderCloseButton")?s=!0:t.cf._compare(r.settings.buttonsToDisplay[i],"SetButton")?u=!0:t.cf._compare(r.settings.buttonsToDisplay[i],"ClearButton")&&(m=!0);var c="";c+="<div class='dtpicker-header'>",c+="<div class='dtpicker-title'>"+e+"</div>",s&&(c+="<a class='dtpicker-close'>&times;</a>"),c+="<div class='dtpicker-value'></div>",c+="</div>";var d="";for(d+="<div class='dtpicker-components'>",i=0;a>i;i++){var l=n[i];d+="<div class='dtpicker-compOutline "+o+"'>",d+="<div class='dtpicker-comp "+l+"'>",d+="<a class='dtpicker-compButton increment'>"+r.settings.incrementButtonContent+"</a>",d+="<input type='text' class='dtpicker-compValue'></input>",d+="<a class='dtpicker-compButton decrement'>"+r.settings.decrementButtonContent+"</a>",d+="</div>",d+="</div>"}d+="</div>";var p="";p=u&&m?" dtpicker-twoButtons":" dtpicker-singleButton";var D="";D+="<div class='dtpicker-buttonCont"+p+"'>",u&&(D+="<a class='dtpicker-button dtpicker-buttonSet'>"+r.settings.setButtonContent+"</a>"),m&&(D+="<a class='dtpicker-button dtpicker-buttonClear'>"+r.settings.clearButtonContent+"</a>"),D+="</div>";var h=c+d+D;t(r.element).find(".dtpicker-subcontent").html(h),r._setCurrentDate(),r._addEventHandlersForPicker()},_addEventHandlersForPicker:function(){var e=this;t(document).on("click.DateTimePicker",function(t){e._hidePicker("")}),t(document).on("keydown.DateTimePicker",function(a){return t(".dtpicker-compValue").is(":focus")||9!==parseInt(a.keyCode?a.keyCode:a.which)?void 0:(e._setButtonAction(!0),t("[tabIndex="+(e.oData.iTabIndex+1)+"]").focus(),!1)}),t(document).on("keydown.DateTimePicker",function(a){t(".dtpicker-compValue").is(":focus")||9===parseInt(a.keyCode?a.keyCode:a.which)||e._hidePicker("")}),t(".dtpicker-cont *").click(function(t){t.stopPropagation()}),t(".dtpicker-compValue").not(".month .dtpicker-compValue, .meridiem .dtpicker-compValue").keyup(function(){this.value=this.value.replace(/[^0-9\.]/g,"")}),t(".dtpicker-compValue").focus(function(){e.oData.bElemFocused=!0}),t(".dtpicker-compValue").blur(function(){e._getValuesFromInputBoxes(),e._setCurrentDate(),e.oData.bElemFocused=!1;var a=t(this).parent().parent();setTimeout(function(){a.is(":last-child")&&!e.oData.bElemFocused&&e._setButtonAction(!1)},50)}),t(".dtpicker-compValue").keyup(function(){var e,a=t(this),r=a.val(),n=r.length;a.parent().hasClass("day")||a.parent().hasClass("hour")||a.parent().hasClass("minutes")||a.parent().hasClass("meridiem")?n>2&&(e=r.slice(0,2),a.val(e)):a.parent().hasClass("month")?n>3&&(e=r.slice(0,3),a.val(e)):a.parent().hasClass("year")&&n>4&&(e=r.slice(0,4),a.val(e))}),t(e.element).find(".dtpicker-close").click(function(t){e.settings.buttonClicked&&e.settings.buttonClicked.call(e,"CLOSE",e.oData.oInputElement),e._hidePicker("")}),t(e.element).find(".dtpicker-buttonSet").click(function(t){e.settings.buttonClicked&&e.settings.buttonClicked.call(e,"SET",e.oData.oInputElement),e._setButtonAction(!1)}),t(e.element).find(".dtpicker-buttonClear").click(function(t){e.settings.buttonClicked&&e.settings.buttonClicked.call(e,"CLEAR",e.oData.oInputElement),e._clearButtonAction()}),t(e.element).find(".day .increment, .day .increment *").click(function(t){e.oData.iCurrentDay++,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".day .decrement, .day .decrement *").click(function(t){e.oData.iCurrentDay--,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".month .increment, .month .increment *").click(function(t){e.oData.iCurrentMonth++,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".month .decrement, .month .decrement *").click(function(t){e.oData.iCurrentMonth--,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".year .increment, .year .increment *").click(function(t){e.oData.iCurrentYear++,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".year .decrement, .year .decrement *").click(function(t){e.oData.iCurrentYear--,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".hour .increment, .hour .increment *").click(function(t){e.oData.iCurrentHour++,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".hour .decrement, .hour .decrement *").click(function(t){e.oData.iCurrentHour--,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".minutes .increment, .minutes .increment *").click(function(t){e.oData.iCurrentMinutes+=e.settings.minuteInterval,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".minutes .decrement, .minutes .decrement *").click(function(t){e.oData.iCurrentMinutes-=e.settings.minuteInterval,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".seconds .increment, .seconds .increment *").click(function(t){e.oData.iCurrentSeconds+=e.settings.secondsInterval,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".seconds .decrement, .seconds .decrement *").click(function(t){e.oData.iCurrentSeconds-=e.settings.secondsInterval,e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()}),t(e.element).find(".meridiem .dtpicker-compButton, .meridiem .dtpicker-compButton *").click(function(a){t.cf._compare(e.oData.sCurrentMeridiem,"AM")?(e.oData.sCurrentMeridiem="PM",e.oData.iCurrentHour+=12):t.cf._compare(e.oData.sCurrentMeridiem,"PM")&&(e.oData.sCurrentMeridiem="AM",e.oData.iCurrentHour-=12),e._setCurrentDate(),e._setOutputOnIncrementOrDecrement()})},_adjustMinutes:function(t){var e=this;return e.settings.roundOffMinutes&&1!==e.settings.minuteInterval&&(t=t%e.settings.minuteInterval?t-t%e.settings.minuteInterval+e.settings.minuteInterval:t),t},_adjustSeconds:function(t){var e=this;return e.settings.roundOffSeconds&&1!==e.settings.secondsInterval&&(t=t%e.settings.secondsInterval?t-t%e.settings.secondsInterval+e.settings.secondsInterval:t),t},_getValueOfElement:function(e){var a="";return a=t.cf._compare(t(e).prop("tagName"),"INPUT")?t(e).val():t(e).html()},_setValueOfElement:function(e,a){var r=this;return t.cf._isValid(a)||(a=t(r.oData.oInputElement)),t.cf._compare(a.prop("tagName"),"INPUT")?a.val(e):a.html(e),a.change(),e},_parseDate:function(e){var a=this,r=a.settings.defaultDate?new Date(a.settings.defaultDate):new Date,n=r.getDate(),i=r.getMonth(),o=r.getFullYear();if(t.cf._isValid(e)){var s;s=a.oData.bArrMatchFormat[4]||a.oData.bArrMatchFormat[5]||a.oData.bArrMatchFormat[6]?e.split(a.settings.monthYearSeparator):e.split(a.settings.dateSeparator),a.oData.bArrMatchFormat[0]?(n=parseInt(s[0]),i=parseInt(s[1]-1),o=parseInt(s[2])):a.oData.bArrMatchFormat[1]?(i=parseInt(s[0]-1),n=parseInt(s[1]),o=parseInt(s[2])):a.oData.bArrMatchFormat[2]?(o=parseInt(s[0]),i=parseInt(s[1]-1),n=parseInt(s[2])):a.oData.bArrMatchFormat[3]?(n=parseInt(s[0]),i=a._getShortMonthIndex(s[1]),o=parseInt(s[2])):a.oData.bArrMatchFormat[4]?(n=1,i=parseInt(s[0])-1,o=parseInt(s[1])):a.oData.bArrMatchFormat[5]?(n=1,i=a._getShortMonthIndex(s[0]),o=parseInt(s[1])):a.oData.bArrMatchFormat[6]&&(n=1,i=a._getFullMonthIndex(s[0]),o=parseInt(s[1]))}return r=new Date(o,i,n,0,0,0,0)},_parseTime:function(e){var a,r,n,i=this,o=i.settings.defaultDate?new Date(i.settings.defaultDate):new Date,s=o.getDate(),u=o.getMonth(),m=o.getFullYear(),c=o.getHours(),d=o.getMinutes(),l=o.getSeconds(),p=i.oData.bArrMatchFormat[0]||i.oData.bArrMatchFormat[1];return l=p?i._adjustSeconds(l):0,t.cf._isValid(e)&&(i.oData.bIs12Hour&&(a=e.split(i.settings.timeMeridiemSeparator),e=a[0],r=a[1],t.cf._compare(r,"AM")||t.cf._compare(r,"PM")||(r="")),n=e.split(i.settings.timeSeparator),c=parseInt(n[0]),d=parseInt(n[1]),p&&(l=parseInt(n[2]),l=i._adjustSeconds(l)),12===c&&t.cf._compare(r,"AM")?c=0:12>c&&t.cf._compare(r,"PM")&&(c+=12)),d=i._adjustMinutes(d),o=new Date(m,u,s,c,d,l,0)},_parseDateTime:function(e){var a,r,n,i,o,s=this,u=s.settings.defaultDate?new Date(s.settings.defaultDate):new Date,m=u.getDate(),c=u.getMonth(),d=u.getFullYear(),l=u.getHours(),p=u.getMinutes(),D=u.getSeconds(),h="",g=s.oData.bArrMatchFormat[0]||s.oData.bArrMatchFormat[1]||s.oData.bArrMatchFormat[2]||s.oData.bArrMatchFormat[3]||s.oData.bArrMatchFormat[4]||s.oData.bArrMatchFormat[5]||s.oData.bArrMatchFormat[6]||s.oData.bArrMatchFormat[7];return D=g?s._adjustSeconds(D):0,t.cf._isValid(e)&&(a=e.split(s.settings.dateTimeSeparator),r=a[0].split(s.settings.dateSeparator),s.oData.bArrMatchFormat[0]||s.oData.bArrMatchFormat[1]||s.oData.bArrMatchFormat[8]||s.oData.bArrMatchFormat[9]?(m=parseInt(r[0]),c=parseInt(r[1]-1),d=parseInt(r[2])):s.oData.bArrMatchFormat[2]||s.oData.bArrMatchFormat[3]||s.oData.bArrMatchFormat[10]||s.oData.bArrMatchFormat[11]?(c=parseInt(r[0]-1),m=parseInt(r[1]),d=parseInt(r[2])):s.oData.bArrMatchFormat[4]||s.oData.bArrMatchFormat[5]||s.oData.bArrMatchFormat[12]||s.oData.bArrMatchFormat[13]?(d=parseInt(r[0]),c=parseInt(r[1]-1),m=parseInt(r[2])):(s.oData.bArrMatchFormat[6]||s.oData.bArrMatchFormat[7]||s.oData.bArrMatchFormat[14]||s.oData.bArrMatchFormat[15])&&(m=parseInt(r[0]),c=s._getShortMonthIndex(r[1]),d=parseInt(r[2])),n=a[1],t.cf._isValid(n)&&(s.oData.bIs12Hour&&(t.cf._compare(s.settings.dateTimeSeparator,s.settings.timeMeridiemSeparator)&&3===a.length?h=a[2]:(i=n.split(s.settings.timeMeridiemSeparator),n=i[0],h=i[1]),t.cf._compare(h,"AM")||t.cf._compare(h,"PM")||(h="")),o=n.split(s.settings.timeSeparator),l=parseInt(o[0]),p=parseInt(o[1]),g&&(D=parseInt(o[2])),12===l&&t.cf._compare(h,"AM")?l=0:12>l&&t.cf._compare(h,"PM")&&(l+=12))),p=s._adjustMinutes(p),u=new Date(d,c,m,l,p,D,0)},_getShortMonthIndex:function(e){for(var a=this,r=0;r<a.settings.shortMonthNames.length;r++)if(t.cf._compare(e,a.settings.shortMonthNames[r]))return r},_getFullMonthIndex:function(e){for(var a=this,r=0;r<a.settings.fullMonthNames.length;r++)if(t.cf._compare(e,a.settings.fullMonthNames[r]))return r},getIs12Hour:function(t,e){var a=this,r=!1,n=Function.length;return a._setMatchFormat(n,t,e),a.oData.bTimeMode?r=a.oData.bArrMatchFormat[0]||a.oData.bArrMatchFormat[2]:a.oData.bDateTimeMode&&(r=a.oData.bArrMatchFormat[1]||a.oData.bArrMatchFormat[3]||a.oData.bArrMatchFormat[5]||a.oData.bArrMatchFormat[7]||a.oData.bArrMatchFormat[9]||a.oData.bArrMatchFormat[11]||a.oData.bArrMatchFormat[13]||a.oData.bArrMatchFormat[15]),a._setMatchFormat(n),r},_setVariablesForDate:function(e,a,r){var n,i=this,o={},s=t.cf._isValid(e);return s?(n=new Date(e),t.cf._isValid(a)||(a=!0),t.cf._isValid(r)||(r=!0)):(n=new Date(i.oData.dCurrentDate),t.cf._isValid(a)||(a=i.oData.bTimeMode||i.oData.bDateTimeMode),t.cf._isValid(r)||(r=i.oData.bIs12Hour)),o.iCurrentDay=n.getDate(),o.iCurrentMonth=n.getMonth(),o.iCurrentYear=n.getFullYear(),o.iCurrentWeekday=n.getDay(),a&&(o.iCurrentHour=n.getHours(),o.iCurrentMinutes=n.getMinutes(),o.iCurrentSeconds=n.getSeconds(),r&&(o.sCurrentMeridiem=i._determineMeridiemFromHourAndMinutes(o.iCurrentHour,o.iCurrentMinutes))),s?o:void(i.oData=t.extend(i.oData,o))},_getValuesFromInputBoxes:function(){var e=this;if(e.oData.bDateMode||e.oData.bDateTimeMode){var a,r;a=t(e.element).find(".month .dtpicker-compValue").val(),a.length>1&&(a=a.charAt(0).toUpperCase()+a.slice(1)),r=e.settings.shortMonthNames.indexOf(a),-1!==r?e.oData.iCurrentMonth=parseInt(r):a.match("^[+|-]?[0-9]+$")&&(e.oData.iCurrentMonth=parseInt(a-1)),e.oData.iCurrentDay=parseInt(t(e.element).find(".day .dtpicker-compValue").val())||e.oData.iCurrentDay,e.oData.iCurrentYear=parseInt(t(e.element).find(".year .dtpicker-compValue").val())||e.oData.iCurrentYear}if(e.oData.bTimeMode||e.oData.bDateTimeMode){var n,i,o,s;n=parseInt(t(e.element).find(".hour .dtpicker-compValue").val()),i=e._adjustMinutes(parseInt(t(e.element).find(".minutes .dtpicker-compValue").val())),o=e._adjustMinutes(parseInt(t(e.element).find(".seconds .dtpicker-compValue").val())),e.oData.iCurrentHour=isNaN(n)?e.oData.iCurrentHour:n,e.oData.iCurrentMinutes=isNaN(i)?e.oData.iCurrentMinutes:i,e.oData.iCurrentSeconds=isNaN(o)?e.oData.iCurrentSeconds:o,e.oData.iCurrentSeconds>59&&(e.oData.iCurrentMinutes+=e.oData.iCurrentSeconds/60,e.oData.iCurrentSeconds=e.oData.iCurrentSeconds%60),e.oData.iCurrentMinutes>59&&(e.oData.iCurrentHour+=e.oData.iCurrentMinutes/60,e.oData.iCurrentMinutes=e.oData.iCurrentMinutes%60),e.oData.bIs12Hour?e.oData.iCurrentHour>12&&(e.oData.iCurrentHour=e.oData.iCurrentHour%12):e.oData.iCurrentHour>23&&(e.oData.iCurrentHour=e.oData.iCurrentHour%23),e.oData.bIs12Hour&&(s=t(e.element).find(".meridiem .dtpicker-compValue").val(),(t.cf._compare(s,"AM")||t.cf._compare(s,"PM"))&&(e.oData.sCurrentMeridiem=s),t.cf._compare(e.oData.sCurrentMeridiem,"PM")&&12!==e.oData.iCurrentHour&&e.oData.iCurrentHour<13&&(e.oData.iCurrentHour+=12),t.cf._compare(e.oData.sCurrentMeridiem,"AM")&&12===e.oData.iCurrentHour&&(e.oData.iCurrentHour=0))}},_setCurrentDate:function(){var e=this;(e.oData.bTimeMode||e.oData.bDateTimeMode)&&(e.oData.iCurrentSeconds>59?(e.oData.iCurrentMinutes+=e.oData.iCurrentSeconds/60,e.oData.iCurrentSeconds=e.oData.iCurrentSeconds%60):e.oData.iCurrentSeconds<0&&(e.oData.iCurrentMinutes-=e.settings.minuteInterval,e.oData.iCurrentSeconds+=60),e.oData.iCurrentMinutes=e._adjustMinutes(e.oData.iCurrentMinutes),e.oData.iCurrentSeconds=e._adjustSeconds(e.oData.iCurrentSeconds));var a,r,n,i,o,s,u,m=new Date(e.oData.iCurrentYear,e.oData.iCurrentMonth,e.oData.iCurrentDay,e.oData.iCurrentHour,e.oData.iCurrentMinutes,e.oData.iCurrentSeconds,0),c=!1,d=!1;if(null!==e.oData.dMaxValue&&(c=m.getTime()>e.oData.dMaxValue.getTime()),null!==e.oData.dMinValue&&(d=m.getTime()<e.oData.dMinValue.getTime()),c||d){var l=!1,p=!1;null!==e.oData.dMaxValue&&(l=e.oData.dCurrentDate.getTime()>e.oData.dMaxValue.getTime()),null!==e.oData.dMinValue&&(p=e.oData.dCurrentDate.getTime()<e.oData.dMinValue.getTime()),l||p?(l&&(m=new Date(e.oData.dMaxValue),console.log("Info : Date/Time/DateTime you entered is later than Maximum value, so DateTimePicker is showing Maximum value in Input Field.")),p&&(m=new Date(e.oData.dMinValue),console.log("Info : Date/Time/DateTime you entered is earlier than Minimum value, so DateTimePicker is showing Minimum value in Input Field.")),console.log("Please enter proper Date/Time/DateTime values.")):m=new Date(e.oData.dCurrentDate)}if(e.oData.dCurrentDate=new Date(m),e._setVariablesForDate(),r={},o="",s="",u="",(e.oData.bDateMode||e.oData.bDateTimeMode)&&(e.oData.bDateMode&&(e.oData.bArrMatchFormat[4]||e.oData.bArrMatchFormat[5]||e.oData.bArrMatchFormat[6])&&(e.oData.iCurrentDay=1),n=e._formatDate(),t(e.element).find(".day .dtpicker-compValue").val(n.dd),e.oData.bDateMode?e.oData.bArrMatchFormat[4]?t(e.element).find(".month .dtpicker-compValue").val(n.MM):e.oData.bArrMatchFormat[6]?t(e.element).find(".month .dtpicker-compValue").val(n.month):t(e.element).find(".month .dtpicker-compValue").val(n.monthShort):t(e.element).find(".month .dtpicker-compValue").val(n.monthShort),t(e.element).find(".year .dtpicker-compValue").val(n.yyyy),e.settings.formatHumanDate?r=t.extend(r,n):e.oData.bDateMode&&(e.oData.bArrMatchFormat[4]||e.oData.bArrMatchFormat[5]||e.oData.bArrMatchFormat[6])?e.oData.bArrMatchFormat[4]?o=n.MM+e.settings.monthYearSeparator+n.yyyy:e.oData.bArrMatchFormat[5]?o=n.monthShort+e.settings.monthYearSeparator+n.yyyy:e.oData.bArrMatchFormat[6]&&(o=n.month+e.settings.monthYearSeparator+n.yyyy):o=n.dayShort+", "+n.month+" "+n.dd+", "+n.yyyy),e.oData.bTimeMode||e.oData.bDateTimeMode)if(i=e._formatTime(),e.oData.bIs12Hour&&t(e.element).find(".meridiem .dtpicker-compValue").val(e.oData.sCurrentMeridiem),t(e.element).find(".hour .dtpicker-compValue").val(i.hour),t(e.element).find(".minutes .dtpicker-compValue").val(i.mm),t(e.element).find(".seconds .dtpicker-compValue").val(i.ss),e.settings.formatHumanDate)r=t.extend(r,i);else{var D=e.oData.bTimeMode&&(e.oData.bArrMatchFormat[0]||e.oData.bArrMatchFormat[1]),h=e.oData.bDateTimeMode&&(e.oData.bArrMatchFormat[0]||e.oData.bArrMatchFormat[1]||e.oData.bArrMatchFormat[2]||e.oData.bArrMatchFormat[3]||e.oData.bArrMatchFormat[4]||e.oData.bArrMatchFormat[5]||e.oData.bArrMatchFormat[6]||e.oData.bArrMatchFormat[7]);s=D||h?i.hour+e.settings.timeSeparator+i.mm+e.settings.timeSeparator+i.ss:i.hour+e.settings.timeSeparator+i.mm,e.oData.bIs12Hour&&(s+=e.settings.timeMeridiemSeparator+e.oData.sCurrentMeridiem)}e.settings.formatHumanDate?(e.oData.bDateTimeMode?a=e.oData.sDateFormat:e.oData.bDateMode?a=e.oData.sTimeFormat:e.oData.bTimeMode&&(a=e.oData.sDateTimeFormat),u=e.settings.formatHumanDate.call(e,r,e.settings.mode,a)):e.oData.bDateTimeMode?u=o+e.settings.dateTimeSeparator+s:e.oData.bDateMode?u=o:e.oData.bTimeMode&&(u=s),t(e.element).find(".dtpicker-value").html(u),e._setButtons()},_formatDate:function(e){var a,r,n,i,o,s,u,m,c,d=this,l={};return t.cf._isValid(e)?l=t.extend({},e):(l.iCurrentDay=d.oData.iCurrentDay,l.iCurrentMonth=d.oData.iCurrentMonth,l.iCurrentYear=d.oData.iCurrentYear,l.iCurrentWeekday=d.oData.iCurrentWeekday),a=l.iCurrentDay,a=10>a?"0"+a:a,n=l.iCurrentMonth,i=l.iCurrentMonth+1,i=10>i?"0"+i:i,o=d.settings.shortMonthNames[n],s=d.settings.fullMonthNames[n],r=l.iCurrentYear,u=l.iCurrentWeekday,m=d.settings.shortDayNames[u],c=d.settings.fullDayNames[u],{dd:a,MM:i,monthShort:o,month:s,yyyy:r,dayShort:m,day:c}},_formatTime:function(e){var a,r,n,i,o,s,u,m=this,c={};return t.cf._isValid(e)?c=t.extend({},e):(c.iCurrentHour=m.oData.iCurrentHour,c.iCurrentMinutes=m.oData.iCurrentMinutes,c.iCurrentSeconds=m.oData.iCurrentSeconds,c.sCurrentMeridiem=m.oData.sCurrentMeridiem),a=c.iCurrentHour,r=10>a?"0"+a:a,o=r,n=c.iCurrentHour,n>12&&(n-=12),0===o&&(n=12),i=10>n?"0"+n:n,m.oData.bIs12Hour&&(o=i),s=c.iCurrentMinutes,s=10>s?"0"+s:s,u=c.iCurrentSeconds,u=10>u?"0"+u:u,{H:a,HH:r,h:n,hh:i,hour:o,m:c.iCurrentMinutes,mm:s,s:c.iCurrentSeconds,ss:u,ME:c.sCurrentMeridiem}},_setButtons:function(){var e=this;t(e.element).find(".dtpicker-compButton").removeClass("dtpicker-compButtonDisable").addClass("dtpicker-compButtonEnable");var a;if(null!==e.oData.dMaxValue&&(e.oData.bTimeMode?((e.oData.iCurrentHour+1>e.oData.dMaxValue.getHours()||e.oData.iCurrentHour+1===e.oData.dMaxValue.getHours()&&e.oData.iCurrentMinutes>e.oData.dMaxValue.getMinutes())&&t(e.element).find(".hour .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),e.oData.iCurrentHour>=e.oData.dMaxValue.getHours()&&e.oData.iCurrentMinutes+1>e.oData.dMaxValue.getMinutes()&&t(e.element).find(".minutes .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")):(a=new Date(e.oData.iCurrentYear,e.oData.iCurrentMonth,e.oData.iCurrentDay+1,e.oData.iCurrentHour,e.oData.iCurrentMinutes,e.oData.iCurrentSeconds,0),a.getTime()>e.oData.dMaxValue.getTime()&&t(e.element).find(".day .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),a=new Date(e.oData.iCurrentYear,e.oData.iCurrentMonth+1,e.oData.iCurrentDay,e.oData.iCurrentHour,e.oData.iCurrentMinutes,e.oData.iCurrentSeconds,0),a.getTime()>e.oData.dMaxValue.getTime()&&t(e.element).find(".month .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),a=new Date(e.oData.iCurrentYear+1,e.oData.iCurrentMonth,e.oData.iCurrentDay,e.oData.iCurrentHour,e.oData.iCurrentMinutes,e.oData.iCurrentSeconds,0),a.getTime()>e.oData.dMaxValue.getTime()&&t(e.element).find(".year .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),a=new Date(e.oData.iCurrentYear,e.oData.iCurrentMonth,e.oData.iCurrentDay,e.oData.iCurrentHour+1,e.oData.iCurrentMinutes,e.oData.iCurrentSeconds,0),a.getTime()>e.oData.dMaxValue.getTime()&&t(e.element).find(".hour .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),a=new Date(e.oData.iCurrentYear,e.oData.iCurrentMonth,e.oData.iCurrentDay,e.oData.iCurrentHour,e.oData.iCurrentMinutes+1,e.oData.iCurrentSeconds,0),a.getTime()>e.oData.dMaxValue.getTime()&&t(e.element).find(".minutes .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),a=new Date(e.oData.iCurrentYear,e.oData.iCurrentMonth,e.oData.iCurrentDay,e.oData.iCurrentHour,e.oData.iCurrentMinutes,e.oData.iCurrentSeconds+1,0),a.getTime()>e.oData.dMaxValue.getTime()&&t(e.element).find(".seconds .increment").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"))),null!==e.oData.dMinValue&&(e.oData.bTimeMode?((e.oData.iCurrentHour-1<e.oData.dMinValue.getHours()||e.oData.iCurrentHour-1===e.oData.dMinValue.getHours()&&e.oData.iCurrentMinutes<e.oData.dMinValue.getMinutes())&&t(e.element).find(".hour .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),e.oData.iCurrentHour<=e.oData.dMinValue.getHours()&&e.oData.iCurrentMinutes-1<e.oData.dMinValue.getMinutes()&&t(e.element).find(".minutes .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")):(a=new Date(e.oData.iCurrentYear,e.oData.iCurrentMonth,e.oData.iCurrentDay-1,e.oData.iCurrentHour,e.oData.iCurrentMinutes,e.oData.iCurrentSeconds,0),a.getTime()<e.oData.dMinValue.getTime()&&t(e.element).find(".day .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),a=new Date(e.oData.iCurrentYear,e.oData.iCurrentMonth-1,e.oData.iCurrentDay,e.oData.iCurrentHour,e.oData.iCurrentMinutes,e.oData.iCurrentSeconds,0),a.getTime()<e.oData.dMinValue.getTime()&&t(e.element).find(".month .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),a=new Date(e.oData.iCurrentYear-1,e.oData.iCurrentMonth,e.oData.iCurrentDay,e.oData.iCurrentHour,e.oData.iCurrentMinutes,e.oData.iCurrentSeconds,0),a.getTime()<e.oData.dMinValue.getTime()&&t(e.element).find(".year .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),a=new Date(e.oData.iCurrentYear,e.oData.iCurrentMonth,e.oData.iCurrentDay,e.oData.iCurrentHour-1,e.oData.iCurrentMinutes,e.oData.iCurrentSeconds,0),a.getTime()<e.oData.dMinValue.getTime()&&t(e.element).find(".hour .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),a=new Date(e.oData.iCurrentYear,e.oData.iCurrentMonth,e.oData.iCurrentDay,e.oData.iCurrentHour,e.oData.iCurrentMinutes-1,e.oData.iCurrentSeconds,0),a.getTime()<e.oData.dMinValue.getTime()&&t(e.element).find(".minutes .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"),a=new Date(e.oData.iCurrentYear,e.oData.iCurrentMonth,e.oData.iCurrentDay,e.oData.iCurrentHour,e.oData.iCurrentMinutes,e.oData.iCurrentSeconds-1,0),a.getTime()<e.oData.dMinValue.getTime()&&t(e.element).find(".seconds .decrement").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable"))),e.oData.bIs12Hour){var r,n;(null!==e.oData.dMaxValue||null!==e.oData.dMinValue)&&(r=e.oData.iCurrentHour,t.cf._compare(e.oData.sCurrentMeridiem,"AM")?r+=12:t.cf._compare(e.oData.sCurrentMeridiem,"PM")&&(r-=12),a=new Date(e.oData.iCurrentYear,e.oData.iCurrentMonth,e.oData.iCurrentDay,r,e.oData.iCurrentMinutes,e.oData.iCurrentSeconds,0),null!==e.oData.dMaxValue&&(e.oData.bTimeMode?(n=e.oData.iCurrentMinutes,(r>e.oData.dMaxValue.getHours()||r===e.oData.dMaxValue.getHours()&&n>e.oData.dMaxValue.getMinutes())&&t(e.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")):a.getTime()>e.oData.dMaxValue.getTime()&&t(e.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")),null!==e.oData.dMinValue&&(e.oData.bTimeMode?(n=e.oData.iCurrentMinutes,(r<e.oData.dMinValue.getHours()||r===e.oData.dMinValue.getHours()&&n<e.oData.dMinValue.getMinutes())&&t(e.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")):a.getTime()<e.oData.dMinValue.getTime()&&t(e.element).find(".meridiem .dtpicker-compButton").removeClass("dtpicker-compButtonEnable").addClass("dtpicker-compButtonDisable")))}},setIsPopup:function(e){var a=this;if(a.settings.isPopup=e,"none"!==t(a.element).css("display")&&a._hidePicker(0),a.settings.isPopup)t(a.element).addClass("dtpicker-mobile"),t(a.element).css({position:"fixed",top:0,left:0,width:"100%",height:"100%"});else if(t(a.element).removeClass("dtpicker-mobile"),null!==a.oData.oInputElement){var r=t(a.oData.oInputElement).offset().top+t(a.oData.oInputElement).outerHeight(),n=t(a.oData.oInputElement).offset().left,i=t(a.oData.oInputElement).outerWidth();t(a.element).css({position:"absolute",top:r,left:n,width:i,height:"auto"})}},_compareDates:function(t,e){t=new Date(t.getDate(),t.getMonth(),t.getFullYear(),0,0,0,0),t=new Date(t.getDate(),t.getMonth(),t.getFullYear(),0,0,0,0);var a=(t.getTime()-e.getTime())/864e5;return 0===a?a:a/Math.abs(a)},_compareTime:function(t,e){var a=0;return t.getHours()===e.getHours()&&t.getMinutes()===e.getMinutes()?a=1:t.getHours()<e.getHours()?a=2:t.getHours()>e.getHours()?a=3:t.getHours()===e.getHours()&&(t.getMinutes()<e.getMinutes()?a=2:t.getMinutes()>e.getMinutes()&&(a=3)),a},_compareDateTime:function(t,e){var a=(t.getTime()-e.getTime())/6e4;return 0===a?a:a/Math.abs(a)},_determineMeridiemFromHourAndMinutes:function(t,e){return t>12?"PM":12===t&&e>=0?"PM":"AM"},setLanguage:function(e){var a=this;return a.settings=t.extend({},a.settings,t.DateTimePicker.i18n[e]),a._setDateFormatArray(),a._setTimeFormatArray(),a._setDateTimeFormatArray(),a}}}),function(t,e,a){var r,n,i;r=n={},i={},r.init=function(){this.$window=e(t),this.$datePicker=e(".js-datetime-picker")},i.init=function(){this.initDatePicker()},i.initDatePicker=function(){n.$datePicker.DateTimePicker({minuteInterval:5})},e(function(){r.init(),i.init()})}(window,jQuery),function(t,e,a){var r,n,i,o,s;r=n={},i={},o={},s={successMessage:{"delete":"The badge was added to the user",post:"The badge was removed from user"},errorMessage:{"delete":"Couldn't add the badge to the user",post:"Couldn't remove the badge to the user"}},r.init=function(){this.$userBadges=e(".user-badges")},o.init=function(){this.bindAjaxSuccessBadgeEvent(),this.bindAjaxErrorBadgeEvent()},o.bindAjaxSuccessBadgeEvent=function(){n.$userBadges.on("ajax:success",function(e,a,r,n){i.replaceInput(e.target,a),t.Flash.emitSuccessEvent({message:s.successMessage[a.method]})})},o.bindAjaxErrorBadgeEvent=function(){n.$userBadges.on("ajax:error",function(t,e,a,r){i.resetCheckboxState(t.target),i.displayErrorMessage(t.target)})},i.init=function(){},i.shouldInitialize=function(){return!!n.$userBadges.length},i.resetCheckboxState=function(t){var a=e(t);a.prop("checked")?a.prop("checked",!1):a.prop("checked",!0)},i.displayErrorMessage=function(a){var r=e(a);if(r.prop("checked"))var n="post";else var n="delete";t.Flash.emitSuccessEvent({message:s.errorMessage[n]})},i.replaceInput=function(t,a){var r=e(t),n="";"delete"==a.method&&(n='checked="checked"');var i='<input type="checkbox" name="badge_id" id="'+a.input_id+'" value="'+a.id+'" data-remote="true" data-method="'+a.method+'" data-url="'+a.url+'" '+n+">";r.replaceWith(i)},e(function(){r.init(),i.shouldInitialize()&&(i.init(),o.init())})}(window,jQuery),function(t,e,a){e(".js-rejection-reasons input[type='checkbox']").change(function(){this.checked?e(".js-email-preview input[name='"+e(this).attr("name")+"']").val("1"):e(".js-email-preview input[name='"+e(this).attr("name")+"']").val("")}),e(".js-rejection-reasons .js-additional-comments").keyup(function(){e(".js-email-preview .js-additional-comments").val(e(this).val())}),e(".js-email-preview").bind("ajax:success",function(t,a,r){e(".js-email-body").html(a)}),e(".js-preview-email-button").click(function(t){t.preventDefault(),e(".js-email-preview").submit()})}(window,jQuery),function(t,e,a){var r,n,i,o,s;r=n={},o={},i={},s={},r.init=function(){this.$window=e(t)},s.init=function(){this.catchReplaceMessageEvent()},s.catchReplaceMessageEvent=function(){n.$window.on("email-message:replace",function(t,e){o.replaceHtml(e.id,e.html)})},s.emitReplaceMessageEvent=function(t){console.log(t),n.$window.trigger("email-message:replace",t)},o.init=function(){},o.replaceHtml=function(t,a){e(".js-email-message-"+t).replaceWith(a)},e(function(){r.init(),s.init()}),t.EmailMessages={emitReplaceMessageEvent:s.emitReplaceMessageEvent}}(window,jQuery);